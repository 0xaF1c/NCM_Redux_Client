import{t as N,y as P,d as $,u as X,B as K,b as Y,c as Z,G as ee,h as u,V as S,bb as te,ae as x,af as R,ag as C,aj as ae,bc as le,r as E,e as q,an as B,ao as l,ap as r,bd as se,at as a,ak as O,aB as y,au as T,az as I,ar as ne,as as re,av as j,aE as z,k as oe,v as ie,aC as L,aF as W,b1 as ce,be as A,b6 as ue,al as de}from"./index-7904e8ad.js";import{u as me,a as ve,P as G,N as fe,c as pe,_ as ye,b as xe,f as ge}from"./musicLikeBtn.vue_vue_type_script_setup_true_lang-a46553f4.js";import{N as _e}from"./PageHeader-e12a2bfa.js";import{N as H}from"./text-4eec9490.js";import{N as be,a as U}from"./Grid-c77da12a.js";import{N as M}from"./Ellipsis-c692ea86.js";const he=N("statistic",[P("label",`
 font-weight: var(--n-label-font-weight);
 transition: .3s color var(--n-bezier);
 font-size: var(--n-label-font-size);
 color: var(--n-label-text-color);
 `),N("statistic-value",`
 margin-top: 4px;
 font-weight: var(--n-value-font-weight);
 `,[P("prefix",`
 margin: 0 4px 0 0;
 font-size: var(--n-value-font-size);
 transition: .3s color var(--n-bezier);
 color: var(--n-value-prefix-text-color);
 `,[N("icon",{verticalAlign:"-0.125em"})]),P("content",`
 font-size: var(--n-value-font-size);
 transition: .3s color var(--n-bezier);
 color: var(--n-value-text-color);
 `),P("suffix",`
 margin: 0 0 0 4px;
 font-size: var(--n-value-font-size);
 transition: .3s color var(--n-bezier);
 color: var(--n-value-suffix-text-color);
 `,[N("icon",{verticalAlign:"-0.125em"})])])]),Ce=Object.assign(Object.assign({},K.props),{tabularNums:Boolean,label:String,value:[String,Number]}),J=$({name:"Statistic",props:Ce,setup(i){const{mergedClsPrefixRef:t,inlineThemeDisabled:n,mergedRtlRef:g}=X(i),m=K("Statistic","-statistic",he,te,i,t),_=Y("Statistic",g,t),s=Z(()=>{const{self:{labelFontWeight:k,valueFontSize:b,valueFontWeight:p,valuePrefixTextColor:h,labelTextColor:V,valueSuffixTextColor:w,valueTextColor:F,labelFontSize:D},common:{cubicBezierEaseInOut:e}}=m.value;return{"--n-bezier":e,"--n-label-font-size":D,"--n-label-font-weight":k,"--n-label-text-color":V,"--n-value-font-weight":p,"--n-value-font-size":b,"--n-value-prefix-text-color":h,"--n-value-suffix-text-color":w,"--n-value-text-color":F}}),v=n?ee("statistic",void 0,s,i):void 0;return{rtlEnabled:_,mergedClsPrefix:t,cssVars:n?void 0:s,themeClass:v==null?void 0:v.themeClass,onRender:v==null?void 0:v.onRender}},render(){var i;const{mergedClsPrefix:t,$slots:{default:n,label:g,prefix:m,suffix:_}}=this;return(i=this.onRender)===null||i===void 0||i.call(this),u("div",{class:[`${t}-statistic`,this.themeClass,this.rtlEnabled&&`${t}-statistic--rtl`],style:this.cssVars},S(g,s=>u("div",{class:`${t}-statistic__label`},this.label||s)),u("div",{class:`${t}-statistic-value`,style:{fontVariantNumeric:this.tabularNums?"tabular-nums":""}},S(m,s=>s&&u("span",{class:`${t}-statistic-value__prefix`},s)),this.value!==void 0?u("span",{class:`${t}-statistic-value__content`},this.value):S(n,s=>s&&u("span",{class:`${t}-statistic-value__content`},s)),S(_,s=>s&&u("span",{class:`${t}-statistic-value__suffix`},s))))}}),ze={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 24 24"},$e=C("g",{fill:"none"},[C("path",{d:"M7.608 4.615a.75.75 0 0 0-1.108.659v13.452a.75.75 0 0 0 1.108.659l12.362-6.726a.75.75 0 0 0 0-1.318L7.608 4.615zM5 5.274c0-1.707 1.826-2.792 3.325-1.977l12.362 6.726c1.566.853 1.566 3.101 0 3.953L8.325 20.702C6.826 21.518 5 20.432 5 18.726V5.274z",fill:"currentColor"})],-1),ke=[$e],we=$({name:"Play24Regular",render:function(t,n){return x(),R("svg",ze,ke)}}),Ne={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 24 24"},Pe=C("g",{fill:"none"},[C("path",{d:"M6.747 4h3.464a.75.75 0 0 1 .102 1.493l-.102.007H6.747a2.25 2.25 0 0 0-2.245 2.095l-.005.155v9.5a2.25 2.25 0 0 0 2.096 2.244l.154.006h9.5a2.25 2.25 0 0 0 2.245-2.096l.005-.154v-.498a.75.75 0 0 1 1.494-.102l.006.102v.498a3.75 3.75 0 0 1-3.55 3.744l-.2.006h-9.5a3.75 3.75 0 0 1-3.745-3.551l-.005-.2v-9.5a3.75 3.75 0 0 1 3.55-3.744l.2-.005h3.464h-3.464zM14.5 6.544V3.75a.75.75 0 0 1 1.187-.61l.082.068l5.994 5.75c.28.269.306.7.077.998l-.077.085l-5.994 5.752a.75.75 0 0 1-1.262-.435l-.007-.107V12.45l-.321-.007c-2.658-.008-4.93 1.084-6.865 3.302c-.496.567-1.425.131-1.306-.613c.827-5.14 3.6-8.044 8.19-8.558l.302-.03V3.75v2.794z",fill:"currentColor"})],-1),Se=[Pe],Be=$({name:"Share24Filled",render:function(t,n){return x(),R("svg",Ne,Se)}}),Te={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 24 24"},Me=C("g",{fill:"none"},[C("path",{d:"M10.788 3.102c.495-1.003 1.926-1.003 2.421 0l2.358 4.778l5.273.766c1.107.16 1.549 1.522.748 2.303l-3.816 3.719l.901 5.25c.19 1.104-.968 1.945-1.959 1.424l-4.716-2.48l-4.715 2.48c-.99.52-2.148-.32-1.96-1.423l.901-5.251l-3.815-3.72c-.801-.78-.359-2.141.748-2.302L8.43 7.88l2.358-4.778zm1.21.937L9.74 8.614a1.35 1.35 0 0 1-1.016.739l-5.05.734l3.654 3.562c.318.31.463.757.388 1.195l-.862 5.029l4.516-2.375a1.35 1.35 0 0 1 1.257 0l4.516 2.375l-.862-5.03a1.35 1.35 0 0 1 .388-1.194l3.654-3.562l-5.05-.734a1.35 1.35 0 0 1-1.016-.739L11.998 4.04z",fill:"currentColor"})],-1),Re=[Me],Ve=$({name:"Star24Regular",render:function(t,n){return x(),R("svg",Te,Re)}}),Fe=$({__name:"playlistDetail",props:{allPlaylist:{},renderPlaylist:{},playlistMatadata:{},album:{type:Boolean}},emits:["playButtonClick"],setup(i,{emit:t}){const n=i,{toggle:g}=me(),m=ae(),{info:_}=le(),s=ve(),v=E(),k=E(!0),b=E(!1),p=e=>{var o;return e==((o=m.state.player.playlist[m.state.player.index])==null?void 0:o.id)},h={"--n-text-color-hover":s.value.baseColor,"--n-text-color":s.value.baseColor,"--n-text-color-disabled":s.value.baseColor,"--n-text-color-focus":s.value.baseColor,"--n-text-color-pressed":s.value.baseColor},V=[{key:"cover",render(e){return u(O,{lazy:!0,src:e==null?void 0:e.cover,size:40})},width:10,resizable:!0},{key:"like",render(e){return u(pe,{id:e==null?void 0:e.songData.id,style:p(e.songData.id)?h:null})},width:10},{key:"play",render(e,o){return u(z,{quaternary:!0,circle:!0,style:p(e.songData.id)?h:null,onClick(){m.commit("player/setPlaylist",n.allPlaylist),m.commit("player/setIndex",o),setTimeout(()=>{g(!1)},1e3)}},{icon:p(e.songData.id)?A(G):A(we)})},width:10},{title:"标题",key:"name",resizable:!0,render(e){return u(M,{style:{maxWidth:"200px"}},e.songData.name)}},{title:"作者",key:"artists",render(e){return u(M,{style:{maxWidth:"100px"}},[e.songData.artists.map((o,d)=>[u(ye,{id:o.id,style:p(e.songData.id)?h:null},o.name)," "])])},resizable:!0},{title:"专辑",key:"album",render(e){return u(xe,{style:p(e.songData.id)?h:null,id:e.songData.album.id},u(M,{style:{maxWidth:"240px"}},e.songData.album.name))},resizable:!0},{title:"时长",key:"dt",render(e){return u(M,{style:{maxWidth:"100px"}},e.dt)}}],w=()=>{v.value=n.renderPlaylist.map((e,o)=>({cover:e.album.picUrl,name:`${e.name}`,dt:`${ge(e.dt,(d,f,c)=>`${f>9?f:"0"+f}:${c>9?c:"0"+c}`)}`,artists:`${e.artists[0].name}`,album:`${e.album.name}`,songData:e,index:o})),k.value=!1},F=(e,o)=>{const d=`
    --n-merged-td-color: ${s.value.primaryColor};
    --n-merged-td-color-hover: ${s.value.primaryColor};
    --n-td-text-color: ${s.value.baseColor};
    --n-text-color-hover: ${s.value.baseColor};
    --n-text-color: ${s.value.baseColor};
  `,f={ondblclick:()=>{m.commit("player/setPlaylist",n.allPlaylist),m.commit("player/setIndex",o),setTimeout(()=>{g(!1)},1e3)},style:""};return p(e.songData.id)&&(f.style+=d),f},D=()=>{m.commit("player/setPlaylist",n.allPlaylist),m.commit("player/setIndex",0)};return q(()=>n.renderPlaylist,()=>{w()}),q(()=>m.state.player.playlist,()=>{w()}),(e,o)=>(x(),B(a(ce),{bordered:!1,embedded:""},{default:l(()=>[r(a(_e),null,{header:l(()=>[se(e.$slots,"header",{},void 0,!0)]),avatar:l(()=>{var d;return[r(a(O),{lazy:"",size:150,src:(d=n.playlistMatadata)==null?void 0:d.coverImgUrl},null,8,["src"])]}),title:l(()=>{var d,f;return[r(a(H),{style:{"font-size":"2rem"}},{default:l(()=>{var c;return[y(T((c=n.playlistMatadata)==null?void 0:c.name),1)]}),_:1}),r(a(I),null,{default:l(()=>{var c;return[(x(!0),R(re,null,ne((c=n.playlistMatadata)==null?void 0:c.tags,Q=>(x(),B(a(ue),{bordered:!1},{default:l(()=>[y(T(Q),1)]),_:2},1024))),256))]}),_:1}),((d=n.playlistMatadata)==null?void 0:d.trackCount)!=-1?(x(),B(a(be),{key:0,cols:3},{default:l(()=>[r(a(U),null,{default:l(()=>{var c;return[r(a(J),{label:"歌曲数",value:(c=n.playlistMatadata)==null?void 0:c.trackCount},null,8,["value"])]}),_:1}),r(a(U),null,{default:l(()=>{var c;return[r(a(J),{label:"播放数",value:(c=n.playlistMatadata)==null?void 0:c.playCount},null,8,["value"])]}),_:1})]),_:1})):j("",!0),((f=n.playlistMatadata)==null?void 0:f.trackCount)!=-1?(x(),B(a(I),{key:1,align:"center",style:{margin:"10px 0"}},{default:l(()=>[y(" 描述: "),r(a(z),{quaternary:"",circle:"",onClick:o[0]||(o[0]=c=>b.value=!b.value)},{default:l(()=>[y(T(b.value?"👆":"👇"),1)]),_:1})]),_:1})):j("",!0)]}),default:l(()=>[oe(r(a(H),{style:{"font-size":"0.6rem","white-space":"pre-wrap"}},{default:l(()=>{var d;return[y(T(((d=n.playlistMatadata)==null?void 0:d.description)||"这个人很懒－O－ 什么也没写"),1)]}),_:1},512),[[ie,b.value]])]),footer:l(()=>[r(a(I),{class:"toolbox"},{default:l(()=>[r(a(L),{trigger:"hover"},{trigger:l(()=>[r(a(z),{type:"primary",circle:"",onClick:D},{icon:l(()=>[r(a(W),{size:25,component:a(G)},null,8,["component"])]),_:1})]),default:l(()=>[y(" 播放全部 ")]),_:1}),r(a(L),{trigger:"hover"},{trigger:l(()=>[r(a(z),{quaternary:"",circle:"",onClick:o[1]||(o[1]=d=>a(_)("尚在开发"))},{icon:l(()=>[r(a(W),{size:25,component:a(Be)},null,8,["component"])]),_:1})]),default:l(()=>[y(" 分享 ")]),_:1}),r(a(L),{trigger:"hover"},{trigger:l(()=>[r(a(z),{quaternary:"",circle:"",onClick:o[2]||(o[2]=d=>a(_)("尚在开发"))},{icon:l(()=>[r(a(W),{size:25,component:a(Ve)},null,8,["component"])]),_:1})]),default:l(()=>[y(" 收藏 ")]),_:1})]),_:1})]),_:3}),r(a(fe),{class:"n-data-table",loading:k.value,columns:V,data:v.value,"row-props":F},null,8,["loading","data"])]),_:3}))}});const Oe=de(Fe,[["__scopeId","data-v-9caa68ea"]]);function je(i){return i.map(t=>({album:t.al,alias:t.alia,artists:t.ar,dt:t.dt,id:t.id,name:t.name,tns:t.tns}))}function Ae(i){return i.map(t=>({album:t.album,alias:[],artists:t.artists,dt:t.duration,id:t.id,name:t.name,tns:[]}))}export{Ae as a,je as f,Oe as p};
