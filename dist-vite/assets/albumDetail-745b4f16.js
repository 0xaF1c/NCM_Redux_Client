import{p as y,f as _}from"./formatPlaylist-9c206ac5.js";import{ah as v,d as b,b4 as f,b3 as h,r as s,b0 as C,e as g,am as k,an as w,ao as q,ae as x,ap as I}from"./index-7904e8ad.js";import"./musicLikeBtn.vue_vue_type_script_setup_true_lang-a46553f4.js";import"./Ellipsis-c692ea86.js";import"./PageHeader-e12a2bfa.js";import"./text-4eec9490.js";import"./Grid-c77da12a.js";const U=o=>v.get("/album",{params:{id:o}}),S=b({__name:"albumDetail",setup(o){const r=f(),a=h({coverImgUrl:"",createTime:0,description:"",id:-1,name:"",playCount:0,trackCount:0,tags:[],userId:0}),m=window.location.hash.split("?id=")[1],n=s(),{data:i,run:c}=C(U,{onSuccess(){var e,u;const l=_((e=i.value)==null?void 0:e.data.songs),t=(u=i.value)==null?void 0:u.data.album;p.value=l.slice(0,d.value),n.value=l,a.coverImgUrl=t.picUrl,a.name=t.name,a.description=t.description,a.trackCount=t.size,a.id=t.id}});c(m),g(()=>r.query,()=>{c(r.query.id)});const p=s(),d=s(20);return(l,t)=>{const e=k("n-scrollbar");return x(),w(e,null,{default:q(()=>[I(y,{"all-playlist":n.value,"render-playlist":p.value,"playlist-matadata":a},null,8,["all-playlist","render-playlist","playlist-matadata"])]),_:1})}}});export{S as default};
